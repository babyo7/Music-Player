<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="loading">
        <img id="gta"  src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXU4dTg0cmMxZndzMTZ1M25wNDk4Y2lqanBkZGQzNmpsaG0xdHg2ZSZlcD12MV9naWZzX3NlYXJjaCZjdD1z/XaejLonqk19jDugJbq/200.gif" />
     
    </div>
    <div class="box" style="visibility: hidden;" id="box">
        <nav>
            <div class="outer">
        <div class="circle shine" id="circle">       
        </div>
        </div>
        <div class="heading">
     <h1 id="Baby">Baby Music</h1>
     </div>
     <div class="right-outer">
        <div class="right-circle" id="shareBtn">       
        </div>
        </div>

     </nav>

     <div class="music shine" id="mus" style="visibility: hidden;" >
        <div id="playlist" class="p"  style="visibility: hidden;">
            <button id="Billi">Happier Than Ever - Billi Eilish</button>
            <button id="Arijit">Apna Bana Le - Arijit Singh</button>
            <button id="Ruth">Dandelions - Ruth B</button>

   
        </div>
   
     </div>
     <div id="hide">
     <h2 id="name">Happier Than Ever</h2>
     <p id="artist">Billie Eilish</p>
     </div>
     <input id="progress" type="range" value="0">  
    <audio  id="myAudio">
    <source src="Music/Music.mp3" type="audio/mp3">
  </audio>
     <div class="control" style="visibility: hidden;" id="control">
     <button id="btn1"  style="font-size: 10px;" class="fa-solid fa-angle-left" onclick="prv()"></button>
    
     <button id="btn2"  onclick="playAudio()" class="fa-solid fa-play"></button>
    
     <button id="btn3"  style="font-size: 10px;" class="fa-solid fa-angle-right" onclick="tests()"></button>
    
    </div>

    </div>
   
   
   <script>
        
window.onload = () => kill();



function kill(){

    document.getElementById("mus").classList.remove("shine");
    document.getElementById("circle").classList.remove("shine");
}
      
        var cnt = 0;
        var nxt = 0;

        var prev = 0;
        

        var t =  document.getElementById("test");
       
        var x = document.getElementById("myAudio"); 
        var y = document.getElementById("btn2");
        var z =  document.getElementById("progress");
        var m =  document.getElementById("mus");
        var ns = document.getElementById("btn3");

        var n =  document.getElementById("name");
        var a =  document.getElementById("artist");
        var p=  document.getElementById("playlist");
       
        var billi=  document.getElementById("Billi");
        var arijit=  document.getElementById("Arijit");
        var ruth=  document.getElementById("Ruth");
        var baby=  document.getElementById("Baby");

        var hide=  document.getElementById("hide");
       
        baby.onclick = ()=> { document.title="Baby Music";          alert("hello");
    }


        const myTimeout = setTimeout(wassup, 1100);

function wassup() {
    document.getElementById("loading").style.display="none";
    document.getElementById("box").style.visibility="visible";
    document.getElementById("mus").style.visibility="visible";
    document.getElementById("control").style.visibility="visible";
    

}



function tests(){
    nxt++;
    songs();
    
console.log(nxt);
    

}

function  prv(){
    nxt--;
    songs();
    
console.log(nxt);


}



function songs(){


switch(nxt)
{


    case 1:

    x.setAttribute('src','Music/Music1.mp3');
    x.play();
                y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://images.hungama.com/c/1/219/c7e/95296825/95296825_300x300.jpg)";
            n.innerText="Apna Bana Le";
            a.innerText="Arijit Singh";
            document.title="Apna Bana Le - Arijit Singh";

    
        break;

        case 2:
        x.setAttribute('src','Music/Music2.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.scdn.co/image/ab67616d0000b27397e971f3e53475091dc8d707)";
            n.innerText="Dandelions";
            a.innerText="Ruth B";
            document.title="Dandelions - Ruth B";
        
            break;
            
            default:    
            x.setAttribute('src','Music/Music.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.pinimg.com/564x/3b/a8/31/3ba831916692f90d6d043d943a930f8d.jpg)";
            n.innerText="Happier Than Ever";
            a.innerText="Billi Eilish";
           nxt=0;
           document.title="Happier Than Ever - Billi Eilish";
               

                
}
}


function playAudio(){
    cnt++;
playaudio();
console.log(cnt);
}



        function playaudio() { 


            switch(cnt){

            case 1:
          
            x.play(); 
            y.className="fa-solid fa-pause";
            break;

            default:
                cnt=0;
            x.pause();
            
            y.className="fa-solid fa-play";


          
            }
            
           
        }
        
        function sec() {
            x.currentTime -= 30
        }

        function secd() {
            x.currentTime += 30
        }

       

z.max  = x.duration;        // Set max value when you know the duration
x.onloadedmetadata = () => z.max = x.duration;
// update audio position
x.onchange = () => z.currentTime = x.value;
// update range input when currentTime updates
x.ontimeupdate = () => z.value = x.currentTime;

m.onclick =() => rste();
hide.onclick =() => rst();

function rst(){
    p.classList.remove("slide");
    p.classList.add("down");
    
}

function rste(){
    
    p.style.visibility="visible";
    p.classList.remove("down");
    p.classList.add("slide");
}

function billie() {
   
     document.title="Dandelios - Ruth B";
    x.setAttribute('src','Music/Music.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.pinimg.com/564x/3b/a8/31/3ba831916692f90d6d043d943a930f8d.jpg)";
            n.innerText="Happier Than Ever";
            a.innerText="Billi Eilish";
            document.title="Happier Than Ever - Billi Eilish";
}


function hiddee(){

    p.style.visibility="none";
}

z.onchange = () => x.currentTime = z.value;
x.onended = () => ns.click();
x.onpause = () =>   y.className="fa-solid fa-play";
x.onplay= () =>   y.className="fa-solid fa-pause";





billi.onclick = () =>  billie();
arijit.onclick = () => {nxt=1; 
songs();} 
ruth.onclick = () => {

    nxt=2;
    songs();
}



const shareBtn = document.getElementById('shareBtn')

shareBtn.addEventListener('click', event => {

  // Check for Web Share api support
  if (navigator.share) {
    // Browser supports native share api
    navigator.share({
      title: ' ',
      url: 'https://music-player-sable-sigma.vercel.app'
    }).then(() => {
      console.log('Thanks for sharing!');
    })
      .catch((err) => console.error(err));
  } else {
    // Fallback
    alert("The current browser does not support the share function. Please, manually share the link")
  }
});


    </script>

</body>
</html>
