<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="loading">
        <img id="gta"  src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXU4dTg0cmMxZndzMTZ1M25wNDk4Y2lqanBkZGQzNmpsaG0xdHg2ZSZlcD12MV9naWZzX3NlYXJjaCZjdD1z/XaejLonqk19jDugJbq/200.gif" />
     
    </div>
    <div class="box" style="visibility: hidden;" id="box">
        <nav>
            <div class="outer">
        <div class="circle">       
        </div>
        </div>
        <div class="heading">
     <h1>Baby Music</h1>
     </div>
     </nav>

     <div class="music" id="mus" style="visibility: hidden;" >
      
     </div>
     <h2 id="name">Happier Than Ever</h2>
     <p id="artist">Billie Eilish</p>
     <input id="progress" type="range" value="0">  
    <audio  id="myAudio">
    <source src="Music.mp3" type="audio/mp3">
  </audio>
     <div class="control" style="visibility: hidden;" id="control">
     <button id="btn1" style="font-size: 10px;" class="fa-solid fa-angle-left" onclick="prv()"></button>
    
     <button id="btn2" onclick="playAudio()" class="fa-solid fa-play"></button>
    
     <button id="btn3" style="font-size: 10px;" class="fa-solid fa-angle-right" onclick="next()"></button>
    
    </div>

    </div>
    <script>
        
        

        var cnt = 0;
        var nxt = 0;

        var prev = 0;
        

        
        var x = document.getElementById("myAudio"); 
        var y = document.getElementById("btn2");
        var z =  document.getElementById("progress");
        var m =  document.getElementById("mus");
        var ns = document.getElementById("btn3");

        var n =  document.getElementById("name");
        var a =  document.getElementById("artist");
       
        const myTimeout = setTimeout(wassup, 1100);

function wassup() {
    document.getElementById("loading").style.display="none";
    document.getElementById("box").style.visibility="visible";
    document.getElementById("mus").style.visibility="visible";
    document.getElementById("control").style.visibility="visible";
    

}




        function playAudio() { 
            x.play(); 
            y.className="fa-solid fa-pause";
            cnt++;
            if(cnt == 2)
            {
              x.pause();
            
              y.className="fa-solid fa-play";
              cnt = 0; 
            }
           
        }
        
        function sec() {
            x.currentTime -= 30
        }

        function secd() {
            x.currentTime += 30
        }

        function next(){
            nxt++;
            x.setAttribute('src','Music1.mp3');
           cnt=  1;
          
            if(nxt==1){
                x.play();
                y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://images.hungama.com/c/1/219/c7e/95296825/95296825_300x300.jpg)";
            n.innerText="Apna Bana Le";
            a.innerText="Arijit Singh";
            
            
         
            }  
         
         else if (nxt==2){
          
            nxt++;
            x.setAttribute('src','Music2.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.scdn.co/image/ab67616d0000b27397e971f3e53475091dc8d707)";
            n.innerText="Dandelions";
            a.innerText="Ruth B";
            
            
         }
         else if (nxt==4){
            
            x.setAttribute('src','Music.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.pinimg.com/564x/3b/a8/31/3ba831916692f90d6d043d943a930f8d.jpg)";
            n.innerText="Happier Than Ever";
            a.innerText="Billi Eilish";
           nxt=0;
         }
        }

        function prv(){
            if (prev==0){
                prev++;
            x.setAttribute('src','Music2.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.scdn.co/image/ab67616d0000b27397e971f3e53475091dc8d707)";
            n.innerText="Dandelions";
            a.innerText="Ruth B";
            }

            else if(prev==1){
            x.setAttribute('src','Music1.mp3');
            prev++;
           cnt=  1;
                x.play();
                y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://images.hungama.com/c/1/219/c7e/95296825/95296825_300x300.jpg)";
            n.innerText="Apna Bana Le";
            a.innerText="Arijit Singh";
            }
            else if(prev==2)
            {
                x.setAttribute('src','Music.mp3');
           x.play();
           y.className="fa-solid fa-pause";
            m.style.backgroundImage = "url(https://i.pinimg.com/564x/3b/a8/31/3ba831916692f90d6d043d943a930f8d.jpg)";
            n.innerText="Happier Than Ever";
            a.innerText="Billi Eilish";
           prev=0;

            }
            else if (Math.floor(x.duration)== Math.floor(z.max)){
                btn3.click();
            }
            
        }

z.max  = x.duration;        // Set max value when you know the duration
x.onloadedmetadata = () => z.max = x.duration;
// update audio position
x.onchange = () => z.currentTime = x.value;
// update range input when currentTime updates
x.ontimeupdate = () => z.value = x.currentTime;


z.onchange = () => x.currentTime = z.value;
x.onended = () => ns.click();
x.onpause = () =>   y.className="fa-solid fa-play";
x.onplay= () =>   y.className="fa-solid fa-pause";


    </script>

</body>
</html>
